suite: Test servicemonitor rendering
templates:
  - servicemonitor.yaml
tests:
  - it: should set scrape interval
    set:
      serviceMonitor.enabled: true
      serviceMonitor.interval: '10s'
    asserts:
      - equal:
          path: spec.endpoints[0].interval
          value: '10s'
  - it: should set scrape timeout
    set:
      serviceMonitor.enabled: true
      serviceMonitor.scrapeTimeout: '10s'
    asserts:
      - equal:
          path: spec.endpoints[0].scrapeTimeout
          value: '10s'
